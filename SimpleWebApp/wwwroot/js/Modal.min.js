var ModalTypeActions=function(){return{PRIMARY:"btn btn-primary",SECONDARY:"btn btn-secondary",SUCCESS:"btn btn-success",DANGER:"btn btn-danger",WARNING:"btn btn-warning",INFO:"btn btn-info",LIGHT:"btn btn-light",DARK:"btn btn-dark",LINK:"btn btn-link",CLOSE_MODAL:"btn btn-secondary",CANCEL_CONFIRM_MODAL:"btn btn-danger"}}(),AppModalSizes=function(){return{SMALL:"modal-dialog modal-sm",DEFAULT:"modal-dialog",LARGE:"modal-dialog modal-lg",EXTRA_LARGE:"modal-dialog modal-xl",FULLSCREEN:"modal-dialog modal-fullscreen"}}(),AppModal=function(){var r=null,u="#app_modal ",k="#modal_title ",f="#modal_body ",e="div#modalSize ",t="#modal_actions",o="#modal_close ",s="#actionModalClose",h="#actionConfirmModalCancel";let n={appModaSize:AppModalSizes.DEFAULT,url:"",title:"",message:"",bodyHtml:"",scroll:!1,actions:[],onCreateModalFunction:function(){},onCloseModalFunction:function(){}};var c=function(){r=new bootstrap.Modal(document.getElementById("app_modal"),{backdrop:"static",keyboard:!1,focus:!0})},l=function(){let t=n.appModaSize;t===AppModalSizes.SMALL?i(AppModalSizes.SMALL):t===AppModalSizes.LARGE?i(AppModalSizes.LARGE):t===AppModalSizes.EXTRA_LARGE?i(AppModalSizes.EXTRA_LARGE):t===AppModalSizes.FULLSCREEN?i(AppModalSizes.FULLSCREEN):i(AppModalSizes.DEFAULT)},i=function(n){$(u+e).removeClass().addClass(n)},a=function(){$(k).html(n.title)},v=function(){if($(u+o).unbind(),n.onCloseModalFunction!==null&&typeof n.onCloseModalFunction=="function")$(o).on("click",n.onCloseModalFunction)},y=function(){n.onCreateModalFunction!==null&&typeof n.onCreateModalFunction=="function"&&n.onCreateModalFunction()},p=function(){$(t).html("");$(t).removeClass("d-flex justify-content-center");n.actions!==null&&n.actions.length>0?$(t).removeClass().addClass("modal-footer"):$(t).removeClass();n.actions.forEach(function(i){if(i.type!==ModalTypeActions.CLOSE_MODAL&&i.type!==ModalTypeActions.CANCEL_CONFIRM_MODAL){if($(t).append(`<button type="button" id="modalAction_${i.name}" class="${i.type}"> ${i.name} </button>`),$("#modalAction_"+i.name).unbind(),i.onClickFunction!==null&&typeof i.onClickFunction=="function")$("#modalAction_"+i.name).on("click",i.onClickFunction)}else if(i.type==ModalTypeActions.CANCEL_CONFIRM_MODAL){if($(t).append(`<button type="button" class="${i.type}" id="actionConfirmModalCancel" data-bs-dismiss="modal"> ${i.name} </button>`),$(h).unbind(),n.onCloseModalFunction!==null&&typeof n.onCloseModalFunction=="function")$(h).on("click",n.onCloseModalFunction)}else if($(t).append(`<button type="button" class="${i.type}" id="actionModalClose" data-bs-dismiss="modal"> ${i.name} </button>`),$(s).unbind(),n.onCloseModalFunction!==null&&typeof n.onCloseModalFunction=="function")$(s).on("click",n.onCloseModalFunction)})},w=function(){n.scroll&&$(u+e).addClass("modal-dialog-scrollable")},b=function(){n.url!=undefined?$(f).load(n.url,function(n,t){t!=="error"?(v(),w(),p(),y()):Toast.error("Error","Something went wrong when trying to open the modal. <br/> Details:"+n)}):$(f).html(n.bodyHtml).promise().done(function(n,t){t!=="error"?(v(),w(),p(),y()):Toast.error("Error","Something went wrong when trying to open the modal. <br/> Details:"+n)})};return{show:function(t){t!==null&&(n=t);l();a();b();c();r.show()},hide:function(){r.hide()},confirmModal:function(i){var f=`
        <div class="row">
          <div class="col-md-12 text-center confirm-body">
            <i class="fa fa-exclamation-triangle fa-3x text-warning mb-3"></i>
            <h5><b>${i.title}</b></h5>
            <p>${i.message}</p>
          </div>
        </div>
      `;let u={appModaSize:i.appModaSize,title:"",bodyHtml:f,scroll:!0,actions:i.actions,onCreateModalFunction:i.onCreateModalFunction,onCloseModalFunction:i.onCloseModalFunction};u!==null&&(n=u);l();a();b();c();$(t).addClass("d-flex justify-content-center");r.show()}}}();